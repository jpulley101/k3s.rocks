"use strict";(self.webpackChunkk_3_s=self.webpackChunkk_3_s||[]).push([[989],{84:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>c});var s=n(5893),a=n(1151);const o={sidebar_position:14,sidebar_label:"Keel"},l=void 0,r={id:"keel",title:"keel",description:"Keel",source:"@site/docs/keel.md",sourceDirName:".",slug:"/keel",permalink:"/keel",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:14,frontMatter:{sidebar_position:14,sidebar_label:"Keel"},sidebar:"tutorialSidebar",previous:{title:"ArgoCD",permalink:"/Argocd"},next:{title:"Plausible analytics",permalink:"/plausible-analytics"}},i={},c=[{value:"Keel",id:"keel",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"keel",children:"Keel"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://keel.sh/",children:"Keel.sh"})}),"\n",(0,s.jsx)(t.p,{children:"Often you want to control deployments using versions. But sometimes you want to just have the latest version. You can use keel to help automate both."}),"\n",(0,s.jsxs)(t.p,{children:["Just add some annotations to your deployment, and it makes sure to update it if the image has changed. The example below is using a fixed ",(0,s.jsx)(t.code,{children:"latest"})," tag."]}),"\n",(0,s.jsxs)(t.p,{children:["Note that it may also require adding an ",(0,s.jsx)(t.code,{children:"ImagePullSecret"})," to access the registry and a ",(0,s.jsx)(t.code,{children:"ImagePullPolicy: Always"})," to the yaml to trigger the image pull."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-yaml",children:'apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: my-software\n  annotations:\n    keel.sh/policy: "force"\n    keel.sh/trigger: poll\n    keel.sh/pollSchedule: "@every 60s"\nspec:\n  selector:\n    matchLabels:\n      app: my-software\n  replicas: 1\n  template:\n    metadata:\n      labels:\n        app: my-software\n    spec:\n      imagePullSecrets:\n        - name: regcred\n      containers:\n        - name: my-software\n          image: custom-registry.com/my-software:latest\n          imagePullPolicy: Always\n          ports:\n            - containerPort: 4578\n'})})]})}function p(e={}){const{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},1151:(e,t,n)=>{n.d(t,{Z:()=>r,a:()=>l});var s=n(7294);const a={},o=s.createContext(a);function l(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);